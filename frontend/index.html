<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>CovidSearch - Final Project</title>
    <link rel="stylesheet" href="styles.css" />

   

</head>
<body>

    <nav>
        <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="about.html">About The Team</a></li>
            <li><a href="safety.html">Safety Tips</a></li>
        </ul>
    </nav>

    <div class="index__container">
        <h1>CovidSearch</h1>
        <p class="index__tagline">Navigate the pandemic with data-driven insights.</p>

        <div class="index__search-box">
            <input id="search-input" type="text" placeholder="Search for symptoms, statistics, or regions..." />
            <button id="search-btn">Search</button>
        </div>
        <div id="results"></div>

        <div class="index__info-section">
            <h2>About Our Project</h2>
            <p>
                Welcome to <strong>CovidSearch</strong>. This is a specialized search engine developed as a Final Semester Project. 
                We have indexed a comprehensive COVID-19 dataset containing global statistics, medical reports, and research papers.
            </p>
            <p>
                Our goal is to provide fast, accurate retrieval of information related to the pandemic to help researchers and the general public stay informed.
            </p>
        </div>
    </div>

</body>

    <script>
        const searchBtn = document.getElementById("search-btn");
        const searchInput = document.getElementById("search-input");
        const resultsDiv = document.getElementById("results");

        searchBtn.addEventListener("click", async () => {
            const query = searchInput.value.trim();
            if (!query) return;

            try {
                const res = await fetch("http://127.0.0.1:8000/search-query", {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/json"
                    },
                    body: JSON.stringify({ query })
                });

                const data = await res.json();

                // Simple render
                resultsDiv.innerHTML = "";
                data.results.forEach(r => {
                    const p = document.createElement("p");

                    // Combine title and authors
                    const authors = r.authors && r.authors.length > 0 ? r.authors.join(", ") : "Unknown authors";
                    p.textContent = `${r.title} â€” Authors: ${authors}`;

                    resultsDiv.appendChild(p);
                });


            } catch (err) {
                console.error("Search failed:", err);
            }
        });
        </script>

</html>
